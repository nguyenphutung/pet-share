(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/logo.d2cd7cce.png"},27:function(e,t,a){e.exports=a(60)},33:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),o=(a(33),a(2)),i=a(3),l=a(5),u=a(4),m=a(6),p=(a(35),a(16),a(23)),h=a.n(p),d={rootPath:"localhost"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_STATE?"http://localhost:6969":""},g=h.a.create({baseURL:d.rootPath,withCredentials:!0}),f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._handleTextChange=function(e){a.props.onSearchChange(e.target.value)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"col-3"},r.a.createElement("input",{onChange:this._handleTextChange,className:"form-control",type:"text",placeholder:"Search"}))}}]),t}(n.Component),b=a(24),v=a.n(b),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-3 profile-panel text-right"},r.a.createElement("span",{className:"navbar-text"},"Welcome, ",this.props.username),r.a.createElement("span",{className:"navbar-text"},"Welcome, ",this.props.username))}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar navbar-expand"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-6 text-center"},r.a.createElement("img",{src:v.a,alt:"logo"})),r.a.createElement(f,{onSearchChange:this.props.onSearchChange}),r.a.createElement(E,{username:this.props.username})))}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.img.comment?this.props.img.comment.map(function(e){return r.a.createElement("p",{style:{borderTop:"1px solid #cccccc"}},r.a.createElement("span",{class:"font-weight-bold"},e.createdBy.username),": ",e.content)}):"";return r.a.createElement("div",{className:"pet_image"},r.a.createElement("img",{className:"img-fluid",src:d.rootPath+this.props.img.imageUrl,alt:this.props.img.title}),r.a.createElement("h4",null,this.props.img.title),r.a.createElement("p",null,this.props.img.description),e)}}]),t}(n.Component),y=a(61),w=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.images.map(function(e){return r.a.createElement("div",{key:e._id,className:"col-3"},r.a.createElement(y.a,{to:"images/".concat(e._id)},r.a.createElement(j,{img:e})))});return r.a.createElement("div",{className:"container main_content"},r.a.createElement("div",{className:"row"},e))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],searchString:""},a._onSearchChange=function(e){return a.setState({searchString:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/api/images").then(function(t){console.log(t.data),setTimeout(function(){e.setState({images:t.data})},1e3)}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.images.filter(function(t){return t.title.includes(e.state.searchString)||t.description.includes(e.state.searchString)});return r.a.createElement("div",null,r.a.createElement(O,{onSearchChange:this._onSearchChange,username:this.props.username}),r.a.createElement(w,{images:t}))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/api/images/".concat(this.props.match.params.imageId)).then(function(t){console.log(t.data),e.setState({image:t.data})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{onSearchChange:this._onSearchChange,username:this.props.username}),r.a.createElement("div",{className:"main_content container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8 mr-auto ml-auto"},this.state.image?r.a.createElement(j,{img:this.state.image}):""))))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._handleUserInput=function(e){a.props.inputUsername(e.target.value)},a._handlePassInput=function(e){a.props.inputPassword(e.target.value)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"container",onSubmit:this.props.onLogin},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{onChange:this._handleUserInput,type:"text",className:"form-control",placeholder:"Enter username"}),r.a.createElement("small",{className:"form-text text-muted"},"We'll never share your account with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this._handlePassInput,type:"password",className:"form-control",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),_=a(62),k=a(64),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userString:"",passString:""},a._inputUsername=function(e){return a.setState({userString:e})},a._inputPassword=function(e){return a.setState({passString:e})},a._onLogin=function(e){e.preventDefault(),g.post("/api/auth",{username:a.state.userString,password:a.state.passString}).then(function(e){a.setState({username:e.data.username,id:e.data.id}),a.props.history.push("/")}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/api/auth/checksession").then(function(t){console.log(t.data.username),e.setState({userString:t.data.username}),e.props.history.push("/")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(_.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(C,Object.assign({},t,{inputUsername:e._inputUsername,inputPassword:e._inputPassword,onLogin:e._onLogin}))}}),r.a.createElement(_.a,{exact:!0,path:"/",render:function(t){return e.state.username?r.a.createElement(S,Object.assign({},t,{username:e.state.username})):(e.props.history.push("/login"),"")}}),r.a.createElement(_.a,{path:"/images/:imageId",render:function(t){return r.a.createElement(N,Object.assign({},t,{username:e.state.username}))}}))}}]),t}(n.Component),P=Object(k.a)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(63);s.a.render(r.a.createElement(U.a,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.537c6db4.chunk.js.map